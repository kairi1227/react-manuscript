# React-Redux

## Redux

  * Action
    ```js
    function addTodo(text) {
      return {
        type: ADD_TODO,
        text
      }
    }
    ```
    `type` 属性是必须的。

  * Reducer
    ```js
    function todoApp(state = initialState, action) {
      switch (action.type) {
        case ADD_TODO:
          return Object.assign({}, state, {
            todo: action.todo
          })
        default:
          return state
      }
    }
    ```
    1、需要一个`case`与`action`的`type`一致。

    2、必须在`switch`的`defautl`返回原`state`。

  * Store
    
    * 管理整个应用的 `state`

    * 提供`getState()`方法，可以获取`state`

    * 通过`dispatch(action)`设置`state`

    * 提供`subscribe(listener)`注册和取消注册监听事件

## React-Redux

  > 是Redux的React实现,可参考 [Official React bindings for Redux](https://redux.js.org/basics/usagewithreact).

### 安装

  ```
  yarn add react-redux

  //or

  npm i react-redxu
  ```

### 组件层级划分

  * 表现性组件

    只负责显示UI的组件。

    例如：
    ```js
    <div></div>
    ```

  * 容器性组件

    不处理UI的组件，也不处理数据，只为UI组件提供数据的组件。

    例如：
    ```js
    connect(state => state)(<YourComponent />)
    ```
  
  * 其他组件

    除以上两种组件以外的组件。

### 使用Redux

我们以一个计数器的例子来说明如何使用React-redux.

  * 设计表现性组件

    需要：显示当前计数，默认为0；累加按钮，每次单击加1；递减按钮，每次单击减1；重置按钮，单击将计数设置为0。

  